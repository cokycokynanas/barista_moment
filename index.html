<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Album XII-I BARISTA MANSASS</title>
        
        <link rel="icon" type="image/png" href="https://files.catbox.moe/umo15f.png">
        
        <link rel="stylesheet" href="style.css">
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    </head>
<body>

    <audio id="memoryAudio" loop>
        <source src="https://files.catbox.moe/61nafo.m4a" type="audio/mpeg">
    </audio>

    <div id="splash-screen">
        <div class="floating-bg" id="floating-container"></div>
        <img src="https://files.catbox.moe/umo15f.png" alt="Logo" class="splash-logo">
        <button class="boom-button" onclick="startMemories()">Buka Memori Barista</button>
    </div>

    <div id="photo-modal" onclick="closeModal()">
        <img id="modal-img" src="" alt="Full Photo">
        <div id="modal-caption" style="position:absolute; bottom:5%; color:white; font-size:1.2rem;"></div>
    </div>

    <div id="main-content" style="display: none; opacity: 0; position: relative;">
        <div class="bg-overlay"></div>
        <div class="bg-particles"></div>
        
        <header style="text-align: center; margin-bottom: 3rem; position: relative; z-index: 2; padding-top: 2rem;">
            <img src="https://files.catbox.moe/umo15f.png" 
                 alt="Logo" 
                 style="width: 130px; 
                        height: auto; 
                        margin-bottom: 1.5rem; 
                        filter: drop-shadow(0 0 20px rgba(212, 175, 55, 0.4));
                        animation: slowFloat 3s ease-in-out infinite;">
            
            <h1>Welcome To</h1>
            <h2>BARISTA MANSAS</h2>
            
            <p style="margin-top: 1rem; letter-spacing: 1px; max-width: 600px; margin-left: auto; margin-right: auto; opacity: 0.9;">
                "Jangan menangis karena ini berakhir, tersenyumlah karena semua ini pernah terjadi bersama kalian."
            </p>
    
            <div id="realtime-clock" style="font-family: monospace; color: var(--accent-gold); margin-top: 15px; font-size: 0.9rem; opacity: 0.8; letter-spacing: 2px;"></div>
        </header>
    
        <div class="album-container" id="albumList" style="position: relative; z-index: 2;">
            </div>

            <footer>
                <div class="social-container">
                    <p>Follow Our Journey:</p>
                    <div class="social-buttons">
                        <a href="https://www.instagram.com/barista_mansass?igsh=MXV1dWVpOG5xeng3bQ==" target="_blank" class="social-button ig-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                            <span>Instagram</span>
                        </a>
            
                        <a href="https://www.tiktok.com/@xiii.ips.3?_r=1&_t=ZS-947dzhQTpLE" target="_blank" class="social-button tt-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"></path>
                            </svg>
                            <span>TikTok</span>
                        </a>
                    </div>
                </div>
                <div style="margin-top: 25px;">
                    <button class="write-letter-btn" onclick="openLetterModal()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        Tulis Surat
                    </button>
                </div>
                
                <div id="letter-modal" class="letter-modal">
                    <div class="letter-content">
                        <h3>Kirim Surat Ke Barista</h3>
                        <input type="text" id="sender-name" placeholder="Nama Kamu..." required>
                        <textarea id="sender-message" placeholder="Tulis pesan atau kenanganmu di sini..." rows="5" required></textarea>
                        <div class="letter-actions">
                            <button class="cancel-btn" onclick="closeLetterModal()">Batal</button>
                            <button class="send-btn" onclick="sendToTelegram()">Kirim Surat</button>
                        </div>
                    </div>
                </div>
                <div class="footer-copyright">
                    &copy; 2026 XII-I BARISTA MANSAS. <br>
                    <i>Created with Heart for Eternal Memories.</i>
                </div>
            </footer>
    </div>

    <script>
        // Data Foto (Gunakan Array Anda)
        // Data Foto yang sudah ditukar posisinya (teks Momen tetap urut otomatis oleh script)
const photoLinks = [
"3to45k.jpg", // [0] Wali Kelas
"p2m0i8.jpg", // [1] Momen #2
"ic800w.jpg", // [2] Momen #3 (TUKAR DENGAN #38: ic800w.jpg)
"r3tmb0.jpg", // [3] Momen #4 (TUKAR DENGAN #13: r3tmb0.jpg)
"vg28wf.jpg", // [4] Momen #5 (TUKAR DENGAN #34: vg28wf.jpg)
"tcvsf0.jpg", // [5] Momen #6 (TUKAR DENGAN #35: tcvsf0.jpg)
"9983h2.jpg", // [6] Momen #7 (TUKAR DENGAN #9: 9983h2.jpg)
"q4dx2h.jpg", // [7] Momen #8 (TUKAR DENGAN #36: q4dx2h.jpg)
"seaqg5.jpg", // [8] Momen #9 (HASIL TUKAR DARI #7)
"hk5gf7.jpg", // [9] Momen #10
"n12yrb.jpg", // [10] Momen #11
"ta5osh.jpg", // [11] Momen #12
"4udwl8.jpg", // [12] Momen #13 (HASIL TUKAR DARI #4)
"mnz84w.jpg", // [13] Momen #14
"ut1anw.jpg", // [14] Momen #15
"7sx1jn.jpg", // [15] Momen #16
"r43aet.jpg", // [16] Momen #17
"sw6wre.jpg", // [17] Momen #18
"ff5b07.jpg", // [18] Momen #19
"91v3ba.jpg", // [19] Momen #20
"ty1iyw.jpg", // [20] Momen #21
"3cid87.jpg", // [21] Momen #22
"t5pje1.jpg", // [22] Momen #23
"0p3oc0.jpg", // [23] Momen #24
"7ents2.jpg", // [24] Momen #25
"vnpssy.jpg", // [25] Momen #26
"iywn1p.jpg", // [26] Momen #27
"kzdl1x.jpg", // [27] Momen #28
"8nvr6z.jpg", // [28] Momen #29
"eb9yqr.jpg", // [29] Momen #30
"4l8dw6.jpg", // [30] Momen #31
"kuu517.jpg", // [31] Momen #32
"k0ezc7.jpg", // [32] Momen #33
"7mgco8.jpg", // [33] Momen #34 (HASIL TUKAR DARI #5)
"dlckdp.jpg", // [34] Momen #35 (HASIL TUKAR DARI #6)
"nm38tv.jpg", // [35] Momen #36 (HASIL TUKAR DARI #8)
"ic800w.jpg", // [36] Momen #37
"seaqg5.jpg", // [37] Momen #38 (HASIL TUKAR DARI #3)
"62xrmt.jpg", // [38] Momen #39 dan seterusnya...
"gkgaql.jpg", "kv3wqt.jpg", "4294gn.jpg", 
"jldl5i.jpg", "yw78mk.jpg", "q3z8qm.jpg", "uyr87s.jpg", "5k6mgr.jpg", "vkr2z3.jpg", 
"ty1b2l.jpg", "rs0ra2.jpg", "89k9ba.jpg", "07cji7.jpg", "pmnsfp.jpg", "cjnsns.jpg", 
"y6reu0.jpg", "kyxf9u.jpg", "4a8yhk.jpg", "u85u06.jpg", "7p2h7f.jpg", "1lsj2s.jpg", 
"i902lw.jpg", "9xr2oj.jpg", "0epcbr.jpg", "csuo1l.jpg"
];

        // Konfigurasi Owner (Tetap sama)
        const TELEGRAM_TOKEN = '8526195679:AAH--icxmjSatH2vj3AIbUDC-5mw6bwH6i0';
        const OWNER_ID = '358455215';

        // Render Album
        const albumList = document.getElementById('albumList');

photoLinks.forEach((link, index) => {
    const div = document.createElement('div');
    div.className = 'polaroid';
    
    // Tentukan teks caption berdasarkan urutan (index)
    // index 0 adalah foto pertama
    let captionText = (index === 0) ? "Wali Kelas XII-I" : `Momen #${index + 1}`;

    div.innerHTML = `
        <img src="https://files.catbox.moe/${link}" loading="lazy">
        <div class="caption">${captionText}</div>
    `;
    
    // Opsional: Tambahkan class khusus untuk foto wali kelas agar bisa di-styling berbeda di CSS
    if (index === 0) {
        div.classList.add('wali-kelas');
    }

    div.onclick = () => openModal(div);
    albumList.appendChild(div);
});

        function openModal(el) {
            const modal = document.getElementById('photo-modal');
            document.getElementById('modal-img').src = el.querySelector('img').src;
            document.getElementById('modal-caption').innerText = el.querySelector('.caption').innerText;
            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('photo-modal').style.display = 'none';
        }

        // Fungsi untuk Modal Surat
function openLetterModal() {
    document.getElementById('letter-modal').style.display = 'flex';
}

function closeLetterModal() {
    document.getElementById('letter-modal').style.display = 'none';
}

async function sendToTelegram() {
    const name = document.getElementById('sender-name').value;
    const message = document.getElementById('sender-message').value;
    const sendBtn = document.querySelector('.send-btn');

    if (!name || !message) {
        alert("Harap isi nama dan pesan kamu!");
        return;
    }

    sendBtn.innerText = "Mengirim...";
    sendBtn.disabled = true;

    const text = `ðŸ“© *Surat Baru dari Web Barista*\n\n*Dari:* ${name}\n*Pesan:* ${message}`;
    const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;

    try {
        const response = await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                chat_id: OWNER_ID,
                text: text,
                parse_mode: 'Markdown'
            })
        });

        if (response.ok) {
            alert("Surat berhasil terkirim ke owner!");
            document.getElementById('sender-name').value = "";
            document.getElementById('sender-message').value = "";
            closeLetterModal();
        } else {
            alert("Gagal mengirim pesan.");
        }
    } catch (e) {
        alert("Terjadi kesalahan koneksi.");
    } finally {
        sendBtn.innerText = "Kirim Surat";
        sendBtn.disabled = false;
    }
}

        async function startMemories() {
            // Animasi Transisi
            const splash = document.getElementById('splash-screen');
            const main = document.getElementById('main-content');
            
            splash.style.opacity = '0';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            
            document.getElementById('memoryAudio').play();
            
            setTimeout(() => {
                splash.style.display = 'none';
                main.style.display = 'block';
                setTimeout(() => main.style.opacity = '1', 100);
            }, 1000);

            // Jalankan pelacakan (opsional sesuai code awal Anda)
            try { sendLogToTelegram(); } catch(e) {}
        }
    </script>
</body>

</html>
